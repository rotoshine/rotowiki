<div class="container" ng-init="init()" ng-clock ng-init="init()">
  <div ng-show="!isNotExistDocument">
    <div class="row" ng-show="document.parent !== undefined">
      <div class="col-xs-12">
        <div class="alert alert-info" role="alert">
          이 문서는 <a href="/document/{{document.parent.title}}">{{document.parent.title}}</a> 문서의 하위문서 입니다.
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-xs-12">
        <h1 class="page-header pull-left">{{title}}</h1>
        <div class="pull-right">
          <span>{{document.updatedAt | from}} 수정됨</span>
          <button class="btn btn-info share-twitter-button" ng-click="shareTwitter()">
            <i class="fa fa-share-alt visible-xs"></i>
            <i class="fa fa-twitter"></i>
            <span class="hidden-xs"> 트위터에 공유하기</span>
          </button>
        </div>
      </div>
    </div>
    <div class="row" ng-show="isNowLoading">
      <div class="col-xs-12">
        <p class="lead">
          <i class="fa fa-spin fa-spinner"></i> 문서를 읽어오고 있습니다.
        </p>
      </div>
    </div>
    <div class="row" ng-show="!isNowLoading">
      <div class="col-xs-12 markdown-view" ng-show="document.content !== ''" ng-bind-html="document.content | markdownToHTML | toTrusted"></div>
      <div class="col-xs-12" ng-show="document.content === '' || document.content === undefined || document.content === null">
        <div class="alert alert-warning"><strong>알림</strong> 내용이 없는 문서입니다.</div>
      </div>
    </div>
    <div class="row">
      <div class="col-xs-12">
        <div ng-show="document.subDocuments.length > 0">
          <section class="panel panel-info">
            <div class="panel-heading">하위문서</div>
            <section class="panel-body">
              <ul class="list-unstyled">
                <li ng-repeat="subDocument in document.subDocuments">
                  <a href="/document/{{subDocument.title}}">{{subDocument.title}}</a>
                </li>
              </ul>
            </section>
          </section>
        </div>
      </div>
    </div>
    <div class="row document-bottom-buttons">
      <div class="col-xs-12 text-right">
        이 문서는 <span class="badge badge">{{document.readCount}}</span> 번 읽혔습니다.</span>
        <button class="btn btn-info share-twitter-button" ng-click="shareTwitter()">
          <i class="fa fa-share-alt visible-xs"></i>
          <i class="fa fa-twitter"></i>
          <span class="hidden-xs"> 트위터에 공유하기</span>
        </button>
      </div>
    </div>
    <div class="row">
      <div class="col-xs-12 text-right" ng-show="isLoggedIn()">
        <div class="well">
          <a href="/document-edit/{{document.title}}" class="btn btn-default" id="document-edit-button"><i class="fa fa-pencil"></i>수정하기</a>
          <button class="btn btn-info" ng-click="createSubDocument()"><i class="fa fa-file"></i>하위 문서 만들기</button>
        </div>
      </div>
    </div>
  </div>
  <div ng-show="isNotExistDocument">
    {{title}}는 없는 문서입니다.
    <div class="well" ng-show="!isLoggedIn()">로그인 후 이 문서를 작성해보세요!</div>
    <a ng-show="isLoggedIn()" type="button" class="btn btn-info" href="/document-edit/{{title}}?isNew=true">이 문서 작성하기</a>
  </div>
</div>
