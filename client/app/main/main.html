<header class="hero-unit" id="banner">
  <div class="container">
    <h1>위키를 만들고 있습니다.</h1>
    <p class="lead">여러분의 잉여력을 기다립니다.</p>
  </div>
</header>

<div class="container" ng-init="init()">
  <div class="row">
    <documents-widget heading="최근 수정된 문서" querystring="page=1&sort=updatedAt&pageCount=20&asc=-1" display-field="from"></documents-widget>
    <documents-widget heading="사람들이 많이 읽은 문서" querystring="sort=readCount&asc=-1&page=1&pageCount=20" display-field="readCount"></documents-widget>
    <documents-widget heading="오늘 만들어진 문서" querystring="sort=createdAt&asc=-1&page=1&pageCount=20&isToday=true" display-field="readCount"></documents-widget>
    <documents-widget heading="사람들이 좋아하는 문서" querystring="sort=likeCount&asc=-1&page=1&pageCount=5" display-field="likeCount"></documents-widget>
  </div>
</div>

<script id="documentsWidget.html" type="text/ng-template">
  <div class="col-md-6 col-xs-12" ng-init="init()">
    <h1 class="page-header">{{heading}}</h1>
    <div ng-show="isNowLoading">
      <i class="fa fa-spin fa-spinner"></i> 문서를 불러오고 있습니다...
    </div>
    <ul class="list-unstyled">
      <li ng-repeat="document in documents">
        <div class="row">
          <a href="/document/{{document.title}}">
            <div class="col-md-6 col-xs-8">
              {{document.title}}
            </div>
            <div class="col-md-6 col-xs-4">
              <span ng-if="displayField === 'from'">{{document.updatedAt | from}}</span>
              <span ng-if="displayField === 'readCount'" class="label label-info">{{document.readCount}}</span>
              <span ng-if="displayField === 'likeCount'" class="label label-primary"><i class="fa fa-heart"></i> {{document.likeCount}}</span>
            </div>
          </a>
        </div>
      </li>
    </ul>
    <div class="well" ng-show="!isNowLoading && documents.length === 0">문서가 없습니다.</div>
  </div>
</script>
